<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 	<title>Schedule</title>
 	<link rel="icon" type="image/x-icon" href="./img/favi.ico">
	<link rel="stylesheet" href="./css/index.css" />
	<link rel="stylesheet" href="./css/header.css" />
	<link rel="stylesheet" href="./css/schedule.css" />
	<link rel="stylesheet" href="./css/button/button.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="./js/button/button.js"></script>
	<script src="https://kit.fontawesome.com/295c95da70.js" crossorigin="anonymous"></script>
	<script src="https://cdn.sheetjs.com/xlsx-0.20.2/package/dist/xlsx.full.min.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="/" style="color: white;"><img src="./img/logo.png" id="logo" width="110" alt=""></a>
            </div>
            
            <!-- headerMenu -->
            <ul class="nav-links">
            
            	 <!-- 관리자가 아닌 경우 -->
            	 <li th:if="${session.user != null and session.user.user_id != 'admin'}">
            	 <a href="memberpage">
            	<button class="explore-menu">
				    <div class="beef"></div>
				    <svg class="cheese" viewBox="0 0 160 53">
				        <path d="M0.0742121 22.3328C1.05135 9.72939 11.5807 0 24.2433 0H144.841C151.675 0 157.394 5.17681 158.061 11.9668L159.974 31.4473C160.594 37.7607 150.009 44.9809 143.654 44.9541C124.599 44.8738 103.951 52.2575 84.8988 52.946C69.006 53.5202 56.2241 49.3376 40.3255 48.95C36.4794 48.8563 31.9925 48.9847 27.4027 49.2331C12.0678 50.0627 -1.11087 37.6185 0.0742121 22.3328Z"></path>
				    </svg>
				    <svg class="salad" viewBox="0 0 160 52">
				        <path d="M0 23.2943C0 10.4292 10.3289 0 23.0703 0H134C148.359 0 160 11.9259 160 26.4247C160 40.3873 149.167 51.524 135.347 51.0361C117.842 50.4181 97.0486 49.4757 91.5 49.4757C70.1294 49.4757 70.5419 52 51.5 52C42.911 52 35.0402 51.5166 27.8556 51.0969C13.391 50.252 0 37.9238 0 23.2943Z"></path>
				    </svg>
				    <svg class="ketchup" viewBox="0 0 160 54">
				        <path d="M0 25.2026C0 11.2836 11.2868 0 25.2097 0H134.912C148.768 0 160 11.229 160 25.0808C160 39.2502 148.267 50.5865 134.093 50.5825C127.22 50.5806 120.037 50.6804 114 50.9856C100.688 51.6586 93.3279 53.7853 80 53.9848C63.9475 54.225 55.0442 51.5562 39 50.9856C34.9927 50.8431 30.3922 50.7756 25.7886 50.7535C11.6411 50.6857 0 39.3462 0 25.2026Z"></path>
				    </svg>
				    <div class="top">Memberpage</div>
				</button>
				</a>
            	</li>
            	
            	 <!-- 관리자인 경우 -->
            	<li th:if="${session.user != null and session.user.user_id == 'admin'}">
            	 <a href="adminpage">
            	<button class="explore-menu">
				    <div class="beef"></div>
				    <svg class="cheese" viewBox="0 0 160 53">
				        <path d="M0.0742121 22.3328C1.05135 9.72939 11.5807 0 24.2433 0H144.841C151.675 0 157.394 5.17681 158.061 11.9668L159.974 31.4473C160.594 37.7607 150.009 44.9809 143.654 44.9541C124.599 44.8738 103.951 52.2575 84.8988 52.946C69.006 53.5202 56.2241 49.3376 40.3255 48.95C36.4794 48.8563 31.9925 48.9847 27.4027 49.2331C12.0678 50.0627 -1.11087 37.6185 0.0742121 22.3328Z"></path>
				    </svg>
				    <svg class="salad" viewBox="0 0 160 52">
				        <path d="M0 23.2943C0 10.4292 10.3289 0 23.0703 0H134C148.359 0 160 11.9259 160 26.4247C160 40.3873 149.167 51.524 135.347 51.0361C117.842 50.4181 97.0486 49.4757 91.5 49.4757C70.1294 49.4757 70.5419 52 51.5 52C42.911 52 35.0402 51.5166 27.8556 51.0969C13.391 50.252 0 37.9238 0 23.2943Z"></path>
				    </svg>
				    <svg class="ketchup" viewBox="0 0 160 54">
				        <path d="M0 25.2026C0 11.2836 11.2868 0 25.2097 0H134.912C148.768 0 160 11.229 160 25.0808C160 39.2502 148.267 50.5865 134.093 50.5825C127.22 50.5806 120.037 50.6804 114 50.9856C100.688 51.6586 93.3279 53.7853 80 53.9848C63.9475 54.225 55.0442 51.5562 39 50.9856C34.9927 50.8431 30.3922 50.7756 25.7886 50.7535C11.6411 50.6857 0 39.3462 0 25.2026Z"></path>
				    </svg>
				    <div class="top">Adminpage</div>
				</button>
				</a>
            	</li>
                
                <!-- 로그인 된 경우 -->
                <li th:if="${session.user != null}">
                 <button class="explore-menu" onclick="confirmLogout()">
				    <div class="beef"></div>
				    <svg class="cheese" viewBox="0 0 160 53">
				        <path d="M0.0742121 22.3328C1.05135 9.72939 11.5807 0 24.2433 0H144.841C151.675 0 157.394 5.17681 158.061 11.9668L159.974 31.4473C160.594 37.7607 150.009 44.9809 143.654 44.9541C124.599 44.8738 103.951 52.2575 84.8988 52.946C69.006 53.5202 56.2241 49.3376 40.3255 48.95C36.4794 48.8563 31.9925 48.9847 27.4027 49.2331C12.0678 50.0627 -1.11087 37.6185 0.0742121 22.3328Z"></path>
				    </svg>
				    <svg class="salad" viewBox="0 0 160 52">
				        <path d="M0 23.2943C0 10.4292 10.3289 0 23.0703 0H134C148.359 0 160 11.9259 160 26.4247C160 40.3873 149.167 51.524 135.347 51.0361C117.842 50.4181 97.0486 49.4757 91.5 49.4757C70.1294 49.4757 70.5419 52 51.5 52C42.911 52 35.0402 51.5166 27.8556 51.0969C13.391 50.252 0 37.9238 0 23.2943Z"></path>
				    </svg>
				    <svg class="ketchup" viewBox="0 0 160 54">
				        <path d="M0 25.2026C0 11.2836 11.2868 0 25.2097 0H134.912C148.768 0 160 11.229 160 25.0808C160 39.2502 148.267 50.5865 134.093 50.5825C127.22 50.5806 120.037 50.6804 114 50.9856C100.688 51.6586 93.3279 53.7853 80 53.9848C63.9475 54.225 55.0442 51.5562 39 50.9856C34.9927 50.8431 30.3922 50.7756 25.7886 50.7535C11.6411 50.6857 0 39.3462 0 25.2026Z"></path>
				    </svg>
				    <div class="top">Logout</div>
				</button>
                </li>
            </ul>
        </nav>
    </header>
    <script type="text/javascript">
        /* 로그아웃 팝업 */
        function confirmLogout() {
            if (confirm("로그아웃하시겠습니까?")) {
                location.href = 'logout';
            }
        }
    </script>
	<section>
		<!-- BUTTON FOR UPLOAD SCHEDULE EXCEL -->
		<label for="excel-upload" class="btn btn-outline-success"> 
			<i class="fa-solid fa-file-excel fa-2xl"></i><br/> 스케쥴 표 업로드
		</label> <input type="file" id="excel-upload" accept=".xlsx" />

		<!-- TABLE FOR PRINT CONVERTED RESULT -->
		<div id="tables">
			<table id="weekPayTable" class="table table-striped table-borderless table-hover"></table>
			<table id="payPerDayTable" class="table table-striped table-borderless table-hover"></table>
		</div>

		<!-- TAG FOR CALL db > java > html -->
		<div class="hidden">
			<ul>
				<li class="mname" th:each="member : ${list}" th:text="${member.member_name}"></li>
				<li class="mgrade" th:each="member : ${list}" th:text="${member.member_grade}"></li>
			</ul>
			<!-- 임시 테이블 -->
		 <table>
	        <tbody>
	            <tr th:each="station : ${stationList}">
	            
	            	<!-- '?' 연산 은 해당 필드가 존재할 때만 접근하도록 함 -->
	            	<!-- station.member_name 와 member.member_name 의 교집 합을 위한 sname..? -->
	             	<td class="sname" th:text="${station?.member_name}"/>
	             	
				    <td class="F" th:text="${station?.frei}"/>
				    <td class="G" th:text="${station?.grill}"/>
				    <td class="M" th:text="${station?.make}"/>
				    <td class="E" th:text="${station?.expo}"/>
				    <td class="D" th:text="${station?.dish}"/>
				</tr>
		        <tr th:if="${stationList.empty}">
		        	<td colspan="5">No stations available</td>
		 	   </tr>
	 	   </tbody>
	    </table>
		<!-- 임시 테이블 -->		
	
		</div>


		
			
	
	
	
	<!-- BUTTON FOR EXPORT ROSTER EXCEL -->
		<div id="roster">
			<button type="button" id="rosterPrint"class="btn btn-secondary">
				<i class="fa-solid fa-print fa-lg"></i>로스터 인쇄
			</button>
		</div>
	</section>
	<script src="https://unpkg.com/read-excel-file@5.x/bundle/read-excel-file.min.js"></script>
	<script src="./js/schedule.js" type="module"></script>
     <footer>
        <p>&copy; Made by Jaewon and Yejun - ( 2024.4.25 ~ )</p>
    </footer>
</body>
</html>